<!DOCTYPE html>
<html>
<head>
	<title>Geo Location Verification</title>

	<!-- Application CSS -->
	<link rel="stylesheet" type="text/css" href="styles/app.css">

	<!-- Font Awesome 4.7 -->
	<link rel="stylesheet" type="text/css" 
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

	<!-- JQuery -->
	<script type="text/javascript" src="styles/jquery.min.js"></script>

	<!-- Application JS -->
	<script type="text/javascript" src="styles/app.js"></script>

	<!-- bootstrap JS -->
	<script type="text/javascript" src="styles/bts/js/bootstrap.min.js"></script>

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" type="text/css" href="styles/bts/css/bootstrap.min.css">

	<!-- Sweet Alert -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<!-- Axios -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js" integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body class="container">
	
	<div id="status_logo">
		<div style="margin-top: 2.5%;">
			<img src="pics/geo_location.png" style="height: 150px;">	
		</div>

		<h3>Geo Location Verification</h3>

		<br/>
		<strong>This Computer Geo Location</strong>
		<hr/>
		<table>
			<tr>
				<td>Latitude</td>
				<td>
					<input type="text" disabled="true" id="computerLatitude" class="form-control">
				</td>
			</tr>

			<tr>
				<td>Longitude</td>
				<td>
					<input type="text" disabled="true" id="computerLongitude" class="form-control">
				</td>
			</tr>
		</table>
		

		<br/><br/>
		<div class="row">
			<div class="col-md-6 col-sm-6 col-xs-6">
				<button class="btn btn-success form-control">Verify Geo Location</button>
			</div>

			<div class="col-md-6 col-sm-6 col-xs-6">
				<button class="btn btn-primary form-control">Continue</button>
			</div>
		</div>

	</div>


	<script type="text/javascript">
		var geoIP = require('offline-geo-from-ip');
		var latitude = ""
		var longitude = ""

		$.get('https://api.ipify.org?format=json', function (data) {

			var jsonData = JSON.parse(JSON.stringify(data))

			var ip = jsonData['ip']

			var geoData = geoIP.allData(ip)

			var location = geoData['location']

			latitude = location['latitude']
			longitude = location['longitude']

			$("#computerLatitude").val(latitude);
			$("#computerLongitude").val(longitude);

		})

	</script>

</body>

</html>